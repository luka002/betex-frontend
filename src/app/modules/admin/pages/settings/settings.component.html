<div class="settings col-12">
  <form [formGroup]="form" (ngSubmit)="onFormSubmit()">

    <!--Buying enabled-->
    <div class="form-group row mar-bot-3">
      <label class="col-sm-3 col-form-label">Buying Enabled</label>
      <div class="col-sm-9">
        <div class="input-group mb-3">
          <select (input)="fieldChange()" [formControlName]="'buyingEnabled'" class="custom-select">
            <option value="true">TRUE</option>
            <option value="false">FALSE</option>
          </select>
        </div>
      </div>
    </div>

    <!--Monthly price-->
    <div class="form-group row">
      <label class="col-sm-3 col-form-label">Monthly Price(€)</label>
      <div class="col-sm-9">
        <input (input)="fieldChange()" type="number" step="0.01"
               formControlName="weekendPrice" class="form-control">
      </div>
    </div>

    <!--Buying disabled message-->
    <div class="form-group row">
      <label class="col-sm-3 col-form-label">Buying Disabled Message</label>
      <div class="col-sm-9">
          <textarea rows="2" cols="50" formControlName="buyingDisabledMessage"
                    (input)="fieldChange()" class="form-control"></textarea>
      </div>
    </div>

    <div class="form-group">
      <button type="submit" [disabled]="!form.valid || loading" class="btn btn-dark btn-block">
        Change Settings
      </button>
    </div>

    <div *ngIf="settingsUpdated && submitted" class="alert alert-success">
      Settings successfully updated.
    </div>
    <div *ngIf="!settingsUpdated && submitted" class="alert alert-danger">
      Error updating settings.
    </div>
  </form>
</div>

<table align="center" class="pair vip-border">
  <tr>
    <th>Monthly Purchases</th>
    <th>Monthly Profit</th>
  </tr>
  <tr>
    <td>{{statistics.weekendPackagesBoughtCount}}</td>
    <td>{{statistics.weekendPackagesTotalAmountEarned}}€</td>
  </tr>
</table>

<table align="center" class="pair vip-border">
  <tr>
    <th>Date</th>
    <th>Visitor Count</th>
  </tr>
  <tr *ngFor="let counter of visitorCounter">
    <td>{{counter.date | date:'dd/MM/yy'}}</td>
    <td>{{counter.totalCount}}</td>
  </tr>
</table>

<div class="text-center mar-top-35">
  <button class="btn btn-dark"
          *ngIf="!showAllDays"
          (click)="getAllDays()">Show All Days
  </button>
</div>
